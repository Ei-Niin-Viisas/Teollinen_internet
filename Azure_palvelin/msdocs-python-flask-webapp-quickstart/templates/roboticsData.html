<!doctype html>
<head>
    <title>ABB-robotti</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap/css/bootstrap.min.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <style>
        #otsikko1 {
            text-align: center;
            font-family: Arial, sans-serif;
        }
        #entries {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 500px;
            height: 600px;
            background-color: #f0f0f0;
            border: 1px solid #333;
            text-align: center;
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<html>
   <body>
     <main>
        <h1 id="otsikko1">Robotics studion lähettämä data</h1>
        <div id="entries" data-entries="{{ entries }}"></div>
     </main>
     <script>
        const divElementti = document.getElementById("entries");

        // Haetaan JSON-muotoinen lista palvelimelta
        var entriesJSON = document.getElementById('entries').getAttribute('data-entries');
        var entriesArray = JSON.parse(entriesJSON);

        // Muutetaan JSON-lista JavaScript-listaksi
        var formattedEntries = entriesArray.map(function(entry) {
            return "Nopeus: " + entry.speed + " Aika: " + entry.time;
        });

        // Lisää <p>-elementit listan pituuden mukaan
        for (let i = 0; i < formattedEntries.length; i++) {
            const pElementti = document.createElement("p");
            pElementti.textContent = formattedEntries[i];
            divElementti.appendChild(pElementti);
        }
        console.log(formattedEntries);

    </script>    
   </body>
</html>